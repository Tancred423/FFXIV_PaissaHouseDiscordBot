services:
  bot:
    build: 
      context: .
      dockerfile: Dockerfile
    container_name: paissa-house-bot-dev
    restart: unless-stopped
    env_file:
      - .env
    environment:
      - REGISTER_COMMANDS=false
      - DEPLOYMENT_HASH=${DEPLOYMENT_HASH:-dev}
      - ENVIRONMENT=development
    volumes:
      - paissa_data:/app/data
      - ./src:/app/src

  register-commands:
    build:
      context: .
      dockerfile: Dockerfile
    env_file:
      - .env
    environment:
      - REGISTER_COMMANDS=true
      - DEPLOYMENT_HASH=${DEPLOYMENT_HASH:-dev}
      - ENVIRONMENT=development
    restart: "no"

volumes:
  paissa_data:
    name: paissa_data_dev